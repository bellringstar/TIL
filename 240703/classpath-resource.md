# 클래스패스에서 리소스를 검색해보자
자바에서 상대경로나 리소스를 검색할 때 클래스패스가 언급이 많이 된다. 클래스패스란 무엇이고 클래스패스에서 어떻게 리소스를 검색할 수 있을까?

## 클래스 로더와 클래스패스
### 클래스 로더
Java 런타임 환경에서 클래스르 동적으로 로드하는 역할을 한다. 클래스 로더는 클래스 뿐만 아니라 리소스 파일도 로드할 수 있다. 또한 계층형 구조로 이루어져 있다.
1. Bootstrap ClassLoader: Java 기본 클래스를 로드합니다.
2. Extension ClassLoader: JDK 확장 클래스를 로드합니다.
3. Application ClassLoader: 애플리케이션 클래스패스에 있는 클래스를 로드합니다.

클래스 로더들은 체인 형태로 되어 있어 하위 클래스로더에서 찾지 못하면 부모 클래스로더로 위임하는 형태로 작동합니다.
### 클래스패스
JVM과 자바 컴파일러가 클래스를 찾는 데 사용하는 경로입니다. 디렉토리, JAR파일, ZIP파일(잘 안씀) 등이 포함될 수 있습니다.<br>
참고로 지정해줄 수도 있지만 기본 설정은 현재 디렉토리, JDK설치 디렉토리가 포함됩니다. 즉 자바 애플리케이션을 실행하는 현재 디렉토리는 기본적으로 포함됩니다. 
따라서 현재 디렉토리에 있는 클래스 파일이나 리소스 파일을 별도의 설정 없이도 로드할 수 있습니다.

- 클래스 패스 설정
  - src/main/resources 디렉토리는 Maven이나 Gradle 프로젝트의 기본 리소스 디렉토리입니다.
  - 빌드 시 해당 디렉토리의 하위 모든 파일은 클래스패스 루트로 복사됩니다.
  - 예를 들어 src/main/resources/static 디렉토리에 있는 파일은 빌드 후에 'static' 디렉토리로 복사됩니다.
  - 즉 빌드 과정에서 'src/main/resources'의 파일이 클래스패스 루트로 복사되기 때문에 'static/filename'경로는 
  'target/classes/static/filename'으로 변환됩니다.
## URL 객체
URL은 Uniform Resource Locator를 나타내는 Java 클래스로 네트워크 상의 리소스를 가리키는 데 사용됩니다.<br>
이 객체는 **리소스의 위치와 접근 방법을 정의하는 문자열을 파싱**하고, 이를 통해 **네트워크 상의 리소스와 상호작용**할 수 있게 합니다.
- 프로토콜: 리소스에 접근하는 방법
- 호스트: 리소스가 위치한 서버의 이름 또는 IP 주소
- 포트: 리소스에 접근할 때 사용하는 포트 번호
- 경로: 서버 내에서 리소스의 위치
- 쿼리: 추가적인 요청 파라미터
- 참조: 리소스 내의 특정 위치

### 동작
1. 문자열 파싱: 주어진 문자열을 파싱하여 프로토콜, 호스트, 포트, 경로, 쿼리, 참조를 추출합니다.
2. 유효성 검사: 파싱된 요소들이 유효한지 검사합니다. 예를 들어, 프로토콜이 유효한지, 호스트가 유효한지등을 검사합니다.
3. 객체 생성: 유효성이 확인되면 'URL' 객체를 생성합니다.
4. 연결 관리: openConnection() 메서드를 호출하여 URLConnection 객체를 생성하고 이를 통해 네트워크 연결을 관리합니다.