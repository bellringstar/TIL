# 동기와 비동기, 블로킹과 넌블로킹

## 동기와 비동기의 차이
### 동기 (Synchronous)
- 특징: 호출된 작업이 완료될 때까지 호출한 측이 기다립니다. 즉, 작업이 끝난 후에야 다음 작업을 시작할 수 있습니다.
- 장점
  - 단순하고 직관적인 코드 흐름
  - 오류 처리가 비교적 간단
- 단점
  - 작업이 완료될 때까지 기다리기 때문에 성능이 떨어질 수 있습니다.
  - 긴 시간이 걸리는 작업은 전체 시스템의 응답성을 저하시킬 수 있습니다.
### 비동기 (Asynchronous)
- 특징: 호출된 작업이 완료될 때까지 기다리지 않고, 호출한 측이 다른 작업을 계속 진행할 수 있습니다. 작업이 완료되면 콜백이나 future 객체를 통해 결과를 처리합니다.
  - 콜백과 future??
- 장점
  - 시스템 자원의 효율적 사용
  - 긴 시간이 걸리는 작업도 시스템의 응답성을 유지할 수 있다.
- 단점
  - 코드가 복잡해질 수 있습니다.
  - 오류 처리가 어려울 수 있습니다.

## 블로킹과 논블로킹의 차이
### 블로킹 (Blocking)
- 특징: 호출된 작업이 완료될 때까지 호출한 측의 실행이 멈추는 방식입니다. 블로킹 호출이 반환되기 전까지 다른 작업을 수행할 수 없습니다.
- 장점
  - 코드가 이해가 쉽고, 직관적
  - 일관된 오류 처리 및 예외 처리
- 단점
  - 자원 낭비(특히 I/O 작업 시)
  - 높은 응답 시간이 요구되는 시스템에는 부적합
### 논블로킹 (Non-Blocking)
- 특징: 호출된 작업이 즉시 반환되며, 호출한 측이 작업 완료 여부와 관계 없이 다른 작업을 계속 수행할 수 있습니다.
- 장점
  - 자원의 효율적 사용
  - 높은 응답 시간이 요구되는 시스템에 적합
- 단점
  - 코드가 복잡해질 수 있다.
  - 상태 관리와 동시성 처리가 어려울 수 있다.

## 동기/비동기와 블로킹/논블로킹 조합
- 동기 + 블로킹: 가장 일반적 방식. 호출한 측이 작업이 완료될 때까지 기다립니다. 예: 전통적인 파일 I/O
- 비동기 + 블로킹: 비동기 호출을 하지만, 결과를 기다리기 위해 블로킹한다. 예: Future.get() 메소드
- 동기 + 논블로킹: 드물게 사용됩니다. 호출한 측이 즉시 반환되지만, 작업이 완료될 때까지 다른 작업을 하지 않습니다.
  - polling을 수행하기 때문에 컨텍스트 스위칭이 지속적으로 발생해 지연이 발생한다.
  - polling이란 주기적으로 상태를 확인하는 방법을 의미합니다.
- 비동기 + 논블로킹: 호출한 측이 즉시 반환되고, 다른 작업을 계속 진행합니다. 결과는 콜백이나 이벤트로 처리합니다. 예: 네트워크 소켓 프로그래밍

```java
// 동기 블로킹 방식의 파일 읽기
try (BufferedReader reader = new BufferedReader(new FileReader("file.txt"))) {
    String line;
    while ((line = reader.readLine()) != null) {
        System.out.println(line);
    }
} catch (IOException e) {
    e.printStackTrace();
}


// 비동기 논블로킹 방식의 예시
CompletableFuture.supplyAsync(() -> {
        // 긴 작업 (예: 네트워크 호출)
    return "결과";
}).thenAccept(result -> {
    System.out.println("결과: " + result);
}).exceptionally(ex -> {
    ex.printStackTrace();
    return null;
});

```

## 답변 예시
동기는 호출된 작업이 완료될 때까지 기다리는 방식이고, 비동기는 기다리지 않고 다른 작업을 계속 진행하는 방식입니다.
블로킹은 호출된 작업이 완료될 때까지 호출한 측의 실행이 멈추는 방식이고, 논블로킹은 즉시 반환되어 다른 작업을 계속 수행할 수 있는 방식입니다.
예를들어 높은 응답 시간이 중요한 서비스에서는 비동기 + 논블로킹 방식을 사용하는 것이 좋습니다.